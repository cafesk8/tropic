{% extends '@ShopsysShop/Front/Content/Order/step.html.twig' %}

{% block h1 %}{% endblock %}

{% block content %}
<div class="web__line">
    <div class="web__container web__container--big-padding">

        {% if getDomain().locale is same as (
            constant('Shopsys\\ShopBundle\\Component\\Domain\\DomainHelper::GERMAN_LOCALE')
        ) %}
            {{ form_row(form.country, { label: 'Country'|trans, attr: { 'data-order-transport-and-payment-box-url': url('front_order_transport_and_payment_box') } }) }}
        {% endif %}

        <div class="box-order">

            <div id="{{ form.vars.id }}" class="box-order__info js-order-box">
                {% include 'ShopsysShopBundle:Front/Content/Order:transportAndPaymentBox.html.twig' %}
            </div>

            <div id="js-order-preview" class="box-order__cart" data-url="{{ url('front_order_preview') }}">
                {{ render(controller('ShopsysShopBundle:Front/Order:preview', {
                    transportId: transport is empty ? null : transport.id,
                    paymentId: payment is empty ? null : payment.id,
                    orderStep: '2',
                    formSubmit: form.save
                })) }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
