imports:
    - { resource: services/*.yaml }
    - { resource: forms.yaml }
    - { resource: paths.yaml }
    - { resource: parameters_common.yaml }
    - { resource: parameters.yaml }
    - { resource: directories.yaml }

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    App\Component\Transfer\Pohoda\Doctrine\PohodaEntityManager: '@doctrine.orm.pohoda_entity_manager'

    doctrine.orm.pohoda_entity_manager:
        public: true
        class: App\Component\Transfer\Pohoda\Doctrine\PohodaEntityManager
        lazy: true # important, frontend does not need PohodaEntityManager, see ocramius/proxy-manager
        factory: [App\Component\Transfer\Pohoda\Doctrine\PohodaEntityManager, create]
        arguments:
            - '@doctrine.dbal.pohoda_connection'
            - '@doctrine.orm.pohoda_configuration'

    joschi127_doctrine_entity_override.event_subscriber.load_orm_metadata:
        class: App\Component\EntityExtension\LoadORMMetadataSubscriber
        arguments:
            - "@service_container"
            - "%shopsys.entity_extension.map%"
        tags:
            - { name: doctrine.event_subscriber, priority: -10 }

    App\Controller\:
        resource: '../src/Controller/'
        public: true
        tags: ['controller.service_arguments']

    App\:
        resource: '../src/**/*{BreadcrumbGenerator,Calculation,Facade,Factory,Generator,Handler,InlineEdit,Listener,Loader,Mapper,Parser,Provider,Recalculator,RecalculationScheduler,Registry,Repository,Resolver,Service,Scheduler,Subscriber,Transformer,Validator,OnCurrentDomain,Converter}.php'
        exclude: '../src/{Command,Controller,DependencyInjection,Form,Migrations,Resources,Twig}'

    League\Flysystem\MountManager:
        arguments:
            -
                local: '@local_filesystem'
                main: '@main_filesystem'

    Shopsys\FrameworkBundle\Controller\Admin\ArticleController:
        class: App\Controller\Admin\ArticleController

    Shopsys\FrameworkBundle\Controller\Admin\ProductPickerController:
        class: App\Controller\Admin\ProductPickerController

    Shopsys\FrameworkBundle\Controller\Admin\ProductController:
        class: App\Controller\Admin\ProductController

    Shopsys\FrameworkBundle\Controller\Admin\PromoCodeController:
        class: App\Controller\Admin\PromoCodeController

    Faker\Generator:
        factory: [Faker\Factory, create, ]
        arguments: ['cs_CZ']
        calls:
            - [seed, ['%faker.seed%']]

    App\Component\Balikobot\BalikobotClient:
        arguments:
            - '%balikobot%'

    App\Component\Mall\MallClient:
        arguments:
            - '%mall_apiKey%'
            - '%mall_isProductionMode%'

    App\Component\Cron\CronModuleExecutor:
        arguments:
            $secondsTimeout: 240

    Shopsys\FrameworkBundle\Component\Cron\CronModuleExecutor: '@App\Component\Cron\CronModuleExecutor'

    App\Component\Redis\RedisFacade:
        arguments:
            $allClients: !tagged snc_redis.client
            $persistentClients:
                - '@snc_redis.global'
                - '@snc_redis.session'

    App\Component\FileUpload\FileUpload:
        arguments: ['%kernel.cache_dir%', '%shopsys.uploaded_file_dir%', '%shopsys.image_dir%']

    Shopsys\FrameworkBundle\Component\FileUpload\FileUpload: '@App\Component\FileUpload\FileUpload'

    App\Component\Image\MigrateImageDoctrineListener:
        arguments:
            - '%migrate_product_images_dir%'
        tags:
            - { name: doctrine.event_listener, event: postPersist }
            - { name: doctrine.event_listener, event: prePersist }

    App\Component\Image\ImageFacade:
        arguments: ['%shopsys.image_url_prefix%']

    Shopsys\FrameworkBundle\Component\Image\ImageFacade: '@App\Component\Image\ImageFacade'

    Shopsys\FrameworkBundle\Component\Image\ImageFactoryInterface:
        alias: App\Component\Image\ImageFactory

    App\Component\Transfer\Logger\TransferLoggerFactory:
        arguments:
            - '@monolog.logger.cron'

    App\Component\Transfer\TransferCronModuleDependency: ~

    Shopsys\FrameworkBundle\Form\Admin\AdvancedSearch\AdvancedSearchProductFilterTranslation: '@App\Form\Admin\AdvancedSearchProductFilterTranslation'

    App\Form\Front\Order\DomainAwareOrderFlowFactory: ~

    Shopsys\FrameworkBundle\Model\Cart\Watcher\CartWatcherFacade:
        class: App\Model\Cart\CartWatcher\CartWatcherFacade

    Shopsys\FrameworkBundle\Model\Order\OrderFlowFactoryInterface: '@App\Form\Front\Order\DomainAwareOrderFlowFactory'

    Shopsys\FrameworkBundle\Model\Article\ArticleDataFactoryInterface: '@App\Model\Article\ArticleDataFactory'

    Shopsys\FrameworkBundle\Model\Article\ArticleFacade: '@App\Model\Article\ArticleFacade'

    Shopsys\FrameworkBundle\Model\Article\ArticleRepository: '@App\Model\Article\ArticleRepository'

    App\Model\Category\CurrentCategoryResolver: ~

    League\Flysystem\FilesystemInterface: '@main_filesystem'

    Shopsys\FrameworkBundle\Model\Administrator\AdministratorDataFactoryInterface: '@App\Model\Administrator\AdministratorDataFactory'

    shopsys.shop.component.friendly_url.cache_provider:
        class: Doctrine\Common\Cache\RedisCache
        calls:
            - { method: setRedis, arguments: ['@snc_redis.friendly_url'] }

    App\Component\Router\FriendlyUrl\FriendlyUrlCacheFacade:
        arguments:
            - '@shopsys.shop.component.friendly_url.cache_provider'

    Shopsys\FrameworkBundle\Model\Category\CategoryDataFactoryInterface: '@App\Model\Category\CategoryDataFactory'


    Shopsys\FrameworkBundle\Model\Customer\User\CustomerUserDataFactoryInterface: '@App\Model\Customer\User\CustomerUserDataFactory'

    Shopsys\FrameworkBundle\Model\Customer\User\CustomerUserFacade: '@App\Model\Customer\User\CustomerUserFacade'

    Shopsys\FrameworkBundle\Model\Customer\User\CustomerUserRepository: '@App\Model\Customer\User\CustomerUserRepository'

    Shopsys\FrameworkBundle\Model\Order\OrderDataFactoryInterface: '@App\Model\Order\OrderDataFactory'

    Shopsys\FrameworkBundle\Model\Order\Item\OrderItemDataFactoryInterface: '@App\Model\Order\Item\OrderItemDataFactory'

    Shopsys\FrameworkBundle\Model\Order\Item\OrderItemFactoryInterface: '@App\Model\Order\Item\OrderItemFactory'

    App\Model\Order\OrderDataMapper: ~

    Shopsys\FrameworkBundle\Model\Order\OrderDataMapper: '@App\Model\Order\OrderDataMapper'

    Shopsys\FrameworkBundle\Model\Order\PromoCode\PromoCodeDataFactory: '@App\Model\Order\PromoCode\PromoCodeDataFactory'

    Shopsys\FrameworkBundle\Model\Order\PromoCode\CurrentPromoCodeFacade: '@App\Model\Order\PromoCode\CurrentPromoCodeFacade'

    Shopsys\FrameworkBundle\Model\Order\PromoCode\PromoCodeFacade: '@App\Model\Order\PromoCode\PromoCodeFacade'

    Shopsys\FrameworkBundle\Model\Order\PromoCode\PromoCodeRepository: '@App\Model\Order\PromoCode\PromoCodeRepository'

    Shopsys\FrameworkBundle\Model\Order\PromoCode\Grid\PromoCodeGridFactory: '@App\Model\Order\PromoCode\Grid\PromoCodeGridFactory'

    App\Model\Order\PromoCode\PromoCodeLimitDataFactory: ~

    App\Model\Order\PromoCode\PromoCodeLimitFacade: ~

    App\Model\Order\PromoCode\PromoCodeLimitRepository: ~

    Shopsys\FrameworkBundle\Model\Transport\TransportDataFactoryInterface: '@App\Model\Transport\TransportDataFactory'

    Shopsys\FrameworkBundle\Model\Payment\PaymentDataFactoryInterface: '@App\Model\Payment\PaymentDataFactory'

    Shopsys\FrameworkBundle\Model\Product\Collection\ProductUrlsBatchLoader: '@App\Model\Product\Collection\ProductUrlsBatchLoader'

    Shopsys\FrameworkBundle\Model\Product\ProductDataFactoryInterface: '@App\Model\Product\ProductDataFactory'

    Shopsys\FrameworkBundle\Model\Product\ProductOnCurrentDomainFacadeInterface: '@App\Model\Product\ProductOnCurrentDomainElasticFacade'

    Shopsys\FrameworkBundle\Model\Product\Brand\BrandDataFactoryInterface: '@App\Model\Product\Brand\BrandDataFactory'

    Shopsys\FrameworkBundle\Model\Product\Brand\BrandFacade: '@App\Model\Product\Brand\BrandFacade'

    Shopsys\FrameworkBundle\Model\Product\Brand\BrandRepository: '@App\Model\Product\Brand\BrandRepository'

    App\DataFixtures\Performance\CategoryDataFixture:
        arguments:
            - "%shopsys.performance_data.category.counts_by_level%"

    App\DataFixtures\Performance\OrderDataFixture:
        arguments:
            - "%shopsys.performance_data.order.total_count%"
            - "%shopsys.performance_data.order.item_count_per_order%"

    App\DataFixtures\Performance\ProductDataFixture:
        arguments:
            - "%shopsys.performance_data.product.total_count%"

    App\DataFixtures\Performance\UserDataFixture:
        arguments:
            - "%shopsys.performance_data.user.count_per_domain%"

    App\DataFixtures\Demo\ImageDataFixture:
        arguments:
            - '%shopsys.data_fixtures_images.resources_dir%'
            - '%shopsys.image_dir%'
            - '%shopsys.domain_images_dir%'
        tags: ['doctrine.fixture.orm']

    App\Model\AdvancedSearch\Filter\ProductMainVariantFilter: ~

    App\Model\AdvancedSearch\Filter\ProductVariantTypeNoneFilter: ~

    App\Model\AdvancedSearch\Filter\ProductParameterFilter: ~

    App\Model\AdvancedSearch\ProductAdvancedSearchConfig: ~

    Shopsys\FrameworkBundle\Model\AdvancedSearch\ProductAdvancedSearchConfig: '@App\Model\AdvancedSearch\ProductAdvancedSearchConfig'

    Shopsys\FrameworkBundle\Model\Order\OrderFacade: '@App\Model\Order\OrderFacade'

    Shopsys\FrameworkBundle\Model\Order\OrderRepository: '@App\Model\Order\OrderRepository'

    Shopsys\FrameworkBundle\Model\Payment\PaymentFacade: '@App\Model\Payment\PaymentFacade'

    Shopsys\FrameworkBundle\Model\Payment\PaymentPriceCalculation: '@App\Model\Payment\PaymentPriceCalculation'

    Shopsys\FrameworkBundle\Model\Payment\PaymentRepository: '@App\Model\Payment\PaymentRepository'

    App\Model\GoPay\GoPayClientFactory:
        arguments:
            - '%gopay_config%'

    App\Model\GoPay\PaymentMethod\GoPayPaymentMethodFacade:
        public: true

    Shopsys\FrameworkBundle\Model\Product\ProductFacade: '@App\Model\Product\ProductFacade'

    Shopsys\FrameworkBundle\Model\Product\ProductRepository: '@App\Model\Product\ProductRepository'

    App\Model\Product\LastVisitedProducts\ProductDetailVisitListener:
        tags:
            - { name: kernel.event_subscriber }

    App\Model\PayPal\PayPalClient:
        arguments:
            - '%payPalClientId%'
            - '%payPalClientSecret%'
            - '%payPalMode%'

    Shopsys\FrameworkBundle\Model\Product\ProductCachedAttributesFacade:
        class: App\Model\Product\ProductCachedAttributesFacade

    Shopsys\FrameworkBundle\Model\Product\ProductVariantFacade: '@App\Model\Product\ProductVariantFacade'

    Shopsys\FrameworkBundle\Model\Product\Parameter\ParameterFacade: '@App\Model\Product\Parameter\ParameterFacade'

    Shopsys\FrameworkBundle\Model\Transport\TransportFacade: '@App\Model\Transport\TransportFacade'

    Shopsys\FrameworkBundle\Model\Transport\TransportRepository: '@App\Model\Transport\TransportRepository'

    Shopsys\FrameworkBundle\Component\Cron\CronModuleFacade: '@App\Component\Cron\CronModuleFacade'

    Shopsys\FrameworkBundle\Model\Country\CountryFacade: '@App\Model\Country\CountryFacade'

    Shopsys\FrameworkBundle\Model\Country\CountryRepository: '@App\Model\Country\CountryRepository'

    Shopsys\FrameworkBundle\Model\Transport\TransportVisibilityCalculation: '@App\Model\Transport\TransportVisibilityCalculation'

    Shopsys\FrameworkBundle\Model\TransportAndPayment\FreeTransportAndPaymentFacade: '@App\Model\TransportAndPayment\FreeTransportAndPaymentFacade'

    Shopsys\FrameworkBundle\Model\Product\Flag\FlagFacade: '@App\Model\Product\Flag\FlagFacade'

    Shopsys\FrameworkBundle\Component\Grid\Ordering\GridOrderingFacade: '@App\Model\Grid\GridOrderingFacade'

    App\Model\Blog\Article\BlogArticleDetailFriendlyUrlDataProvider:
        tags:
            - {name: shopsys.friendly_url_provider}

    App\Model\Blog\Category\BlogCategoryDetailFriendlyUrlDataProvider:
        tags:
            - {name: shopsys.friendly_url_provider}

    App\Model\Blog\BlogVisibilityRecalculationListener:
        tags:
            - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }

    App\Model\Product\MassEdit\MassEditActionProvider: ~

    App\Model\Product\MassEdit\Action\HiddenMassAction: ~

    App\Model\Product\MassEdit\Action\CategoryMassAction: ~

    App\Model\Product\MassEdit\Action\ProductParameterMassAction: ~

    Shopsys\FrameworkBundle\Model\Category\CategoryFacade: '@App\Model\Category\CategoryFacade'

    Shopsys\FrameworkBundle\Controller\Admin\CustomerController:
        class: App\Controller\Admin\CustomerController
        tags: ['controller.service_arguments']

    Shopsys\FrameworkBundle\Model\Customer\User\CustomerUserUpdateDataFactoryInterface: '@App\Model\Customer\User\CustomerUserUpdateDataFactory'

    Shopsys\FrameworkBundle\Model\Pricing\Group\PricingGroupDataFactory: '@App\Model\Pricing\Group\PricingGroupDataFactory'

    Shopsys\FrameworkBundle\Model\Pricing\Group\PricingGroupFacade: '@App\Model\Pricing\Group\PricingGroupFacade'

    Shopsys\FrameworkBundle\Controller\Admin\CategoryController:
        class: App\Controller\Admin\CategoryController
        tags: ['controller.service_arguments']

    Shopsys\FrameworkBundle\Component\String\HashGenerator: '@App\Component\String\HashGenerator'

    Shopsys\FrameworkBundle\Model\Product\Elasticsearch\ProductExportRepository: '@App\Model\Product\Elasticsearch\ProductExportRepository'

    Shopsys\FrameworkBundle\Model\Product\Pricing\ProductPriceCalculation: '@App\Model\Product\Pricing\ProductPriceCalculation'

    Shopsys\FrameworkBundle\Model\Order\Preview\OrderPreviewFactory: '@App\Model\Order\Preview\OrderPreviewFactory'

    Shopsys\FrameworkBundle\Model\Order\Preview\OrderPreviewCalculation: '@App\Model\Order\Preview\OrderPreviewCalculation'

    Shopsys\FrameworkBundle\Model\Product\Pricing\QuantifiedProductDiscountCalculation: '@App\Model\Product\Pricing\QuantifiedProductDiscountCalculation'

    Shopsys\FrameworkBundle\Model\Category\CategoryRepository: '@App\Model\Category\CategoryRepository'

    shopsys.shop.twig.cache_provider:
        class: Doctrine\Common\Cache\RedisCache
        calls:
            - { method: setRedis, arguments: ['@snc_redis.twig'] }

    Shopsys\FrameworkBundle\Model\Advert\AdvertDataFactory: '@App\Model\Advert\AdvertDataFactory'

    Shopsys\FrameworkBundle\Model\Advert\AdvertPositionRegistry: '@App\Model\Advert\AdvertPositionRegistry'

    Shopsys\FrameworkBundle\Model\Advert\AdvertFacade: '@App\Model\Advert\AdvertFacade'

    Shopsys\FrameworkBundle\Model\Product\Pricing\ProductManualInputPriceFacade: '@App\Model\Product\Pricing\ProductManualInputPriceFacade'

    Shopsys\FrameworkBundle\Model\Product\Pricing\ProductManualInputPriceRepository: '@App\Model\Product\Pricing\ProductManualInputPriceRepository'

    Shopsys\FrameworkBundle\Model\Product\Flag\FlagGridFactory: '@App\Model\Product\Flag\FlagGridFactory'

    Shopsys\FrameworkBundle\Component\Router\FriendlyUrl\FriendlyUrlFacade: '@App\Component\Router\FriendlyUrl\FriendlyUrlFacade'

    Shopsys\FrameworkBundle\Component\Router\FriendlyUrl\FriendlyUrlRepository: '@App\Component\Router\FriendlyUrl\FriendlyUrlRepository'

    Shopsys\FrameworkBundle\Model\Breadcrumb\SimpleBreadcrumbGenerator: '@App\Model\Breadcrumb\SimpleBreadcrumbGenerator'

    Shopsys\FrameworkBundle\Model\Cart\CartFacade: '@App\Model\Cart\CartFacade'

    Shopsys\FrameworkBundle\Model\Cart\Item\CartItemFactoryInterface: '@App\Model\Cart\Item\CartItemFactory'

    App\Model\Order\Preview\OrderPreview: ~

    Shopsys\FrameworkBundle\Model\Order\Preview\OrderPreview: '@App\Model\Order\Preview\OrderPreview'

    Shopsys\FrameworkBundle\Twig\NumberFormatterExtension: '@App\Twig\NumberFormatterExtension'

    Shopsys\FrameworkBundle\Model\Product\Search\FilterQueryFactory: '@App\Model\Product\Search\FilterQueryFactory'

    Shopsys\FrameworkBundle\Model\Product\Listing\ProductListOrderingModeForListFacade: '@App\Model\Product\Listing\ProductListOrderingModeForListFacade'

    Shopsys\FrameworkBundle\Model\Product\Listing\ProductListOrderingModeForBrandFacade: '@App\Model\Product\Listing\ProductListOrderingModeForBrandFacade'

    Shopsys\FrameworkBundle\Model\Product\Listing\ProductListOrderingModeForSearchFacade: '@App\Model\Product\Listing\ProductListOrderingModeForSearchFacade'

    App\Model\Product\Parameter\AdminSelectedParameter: ~

    Shopsys\FrameworkBundle\Model\Product\Parameter\ParameterRepository: '@App\Model\Product\Parameter\ParameterRepository'

    Shopsys\FrameworkBundle\Twig\DateTimeFormatterExtension: '@App\Twig\DateTimeFormatterExtension'

    Shopsys\FrameworkBundle\Model\Product\Parameter\ParameterValueDataFactory: '@App\Model\Product\Parameter\ParameterValueDataFactory'
    App\Component\GoogleApi\GoogleClient:
        arguments:
            - '%googleApiKey%'

    Shopsys\FrameworkBundle\Model\Product\Pricing\ProductPriceRecalculator:
        class: App\Model\Product\Pricing\ProductPriceRecalculator
        tags:
            # must be run before ProductVisibilityFacade
            - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse, priority: 20 }

    Shopsys\FrameworkBundle\Model\Product\Parameter\ParameterDataFactoryInterface: '@App\Model\Product\Parameter\ParameterDataFactory'

    Shopsys\FrameworkBundle\Model\Product\Parameter\ParameterGridFactory: '@App\Model\Product\Parameter\ParameterGridFactory'

    Shopsys\FrameworkBundle\Model\Pricing\Currency\CurrencyFacade: '@App\Model\Pricing\Currency\CurrencyFacade'

    App\Component\Mall\MallImportOrderClient:
        arguments:
            $includeTestOrders: '%mall_includeTestOrders%'

    App\Component\Setting\Setting: ~
    Shopsys\FrameworkBundle\Component\Setting\Setting: '@App\Component\Setting\Setting'

    Shopsys\FrameworkBundle\Model\Pricing\Group\PricingGroupRepository: '@App\Model\Pricing\Group\PricingGroupRepository'

    Shopsys\FrameworkBundle\Model\Order\Status\OrderStatusDataFactoryInterface: '@App\Model\Order\Status\OrderStatusDataFactory'

    Shopsys\FrameworkBundle\Model\Order\Status\Grid\OrderStatusGridFactory: '@App\Model\Order\Status\Grid\OrderStatusGridFactory'

    Shopsys\FrameworkBundle\Model\Order\Status\OrderStatusFacade: '@App\Model\Order\Status\OrderStatusFacade'

    Shopsys\FrameworkBundle\Model\Order\Status\OrderStatusRepository: '@App\Model\Order\Status\OrderStatusRepository'

    App\Model\Gtm\GtmContainer:
        arguments:
            $containersConfigs: '%gtm_config%'

    App\Model\Gtm\GtmListener:
        tags:
            - { name: kernel.event_listener, event: kernel.controller }

    App\Model\Gtm\GtmHelper: ~

    Shopsys\FrameworkBundle\Model\Customer\DeliveryAddressDataFactory: '@App\Model\Customer\DeliveryAddressDataFactory'

    Shopsys\FrameworkBundle\Model\Customer\BillingAddressDataFactory: '@App\Model\Customer\BillingAddressDataFactory'

    Shopsys\FrameworkBundle\Model\Order\FrontOrderDataMapper: '@App\Model\Order\FrontOrderDataMapper'

    Shopsys\FrameworkBundle\Model\Country\CountryDataFactory: '@App\Model\Country\CountryDataFactory'

    SimPod\SmsManager\ApiSmsManager: ~

    App\Component\SmsManager\SmsManagerFactory:
        arguments:
            $apiKey: '%smsManagerApiKey%'

    App\Model\Order\MassAction\CsvExportMassAction: ~

    Shopsys\FrameworkBundle\Controller\Admin\OrderController:
        class: App\Controller\Admin\OrderController
        tags: ['controller.service_arguments']

    App\Model\AdvancedSearch\OrderAdvancedSearchConfig: ~

    Shopsys\FrameworkBundle\Model\AdvancedSearch\OrderAdvancedSearchConfig: '@App\Model\AdvancedSearch\OrderAdvancedSearchConfig'

    App\Model\AdvancedSearchOrder\Filter\OrderTransportFilter: ~

    Shopsys\FrameworkBundle\Form\Admin\AdvancedSearch\AdvancedSearchOrderFilterTranslation: '@App\Form\Admin\AdvancedSearch\AdvancedSearchOrderFilterTranslation'

    App\Component\Log\SlowLogSubscriber:
        arguments:
            - '@monolog.logger.slow'
        tags:
            - { name: kernel.event_subscriber }

    Shopsys\FrameworkBundle\Component\Log\SlowLogSubscriber: '@App\Component\Log\SlowLogSubscriber'

    Shopsys\FrameworkBundle\Model\Security\LoginListener:
        class: App\Model\Security\LoginListener
        tags:
            - { name: kernel.event_listener, event: security.interactive_login, method: onSecurityInteractiveLogin }

    Shopsys\FrameworkBundle\Model\Order\Item\OrderItemFacade: '@App\Model\Order\Item\OrderItemFacade'

    App\Model\Order\Mail\OrderMail: ~

    Shopsys\FrameworkBundle\Model\Order\Mail\OrderMail: '@App\Model\Order\Mail\OrderMail'

    App\Model\Feed\FeedHelper: ~

    Shopsys\FrameworkBundle\Model\Product\Flag\FlagRepository: '@App\Model\Product\Flag\FlagRepository'

    App\Model\AdvancedSearch\Filter\ProductFlagFilter: ~

    Shopsys\FrameworkBundle\Model\AdvancedSearch\Filter\ProductFlagFilter: '@App\Model\AdvancedSearch\Filter\ProductFlagFilter'

    Shopsys\FrameworkBundle\Model\Category\CategoryWithLazyLoadedVisibleChildrenFactory: '@App\Model\Category\CategoryWithLazyLoadedVisibleChildrenFactory'

    App\Model\AdminNavigation\SideMenuConfigurationListener:
        class: App\Model\AdminNavigation\SideMenuConfigurationListener
        tags:
            - { name: kernel.event_listener, event: shopsys.admin_side_menu.configure_root, method: onRootConfigure }

    Shopsys\FrameworkBundle\Model\Security\FrontLogoutHandler: '@App\Model\Security\FrontLogoutHandler'

    App\Controller\Front\ErrorController:
        arguments:
            $environment: '%kernel.environment%'

    Shopsys\FrameworkBundle\Model\Payment\IndependentPaymentVisibilityCalculation: '@App\Model\Payment\IndependentPaymentVisibilityCalculation'

    swiftmailer.transport.real:
        class: Swift_SmtpTransport
        arguments: ['%mailer_host%']

    App\Model\Product\Search\ProductElasticsearchConverter: ~

    Shopsys\FrameworkBundle\Model\Product\Search\ProductElasticsearchConverter: '@App\Model\Product\Search\ProductElasticsearchConverter'

    Shopsys\ReadModelBundle\Product\Listed\ListedProductViewFactory: '@App\Model\Product\View\ListedProductViewFactory'

    Shopsys\ReadModelBundle\Product\Listed\ListedProductViewFacadeInterface: '@App\Model\Product\View\ListedProductViewElasticFacade'

    App\Model\Product\View\ProductActionViewFactory: ~

    Shopsys\ReadModelBundle\Product\Action\ProductActionViewFactory: '@App\Model\Product\View\ProductActionViewFactory'

    Shopsys\FrameworkBundle\Model\Product\BestsellingProduct\CachedBestsellingProductFacade: '@App\Model\Product\BestsellingProduct\CachedBestsellingProductFacade'

    App\Model\Product\BestsellingProduct\CachedBestsellingProductFacade:
        arguments:
            - '@shopsys.shop.product.bestselling_product.cache_provider'

    Shopsys\FrameworkBundle\Twig\ImageExtension: '@App\Twig\ImageExtension'

    App\Model\Product\Availability\AvailabilityDataFactory: ~

    Shopsys\FrameworkBundle\Model\Product\Availability\AvailabilityDataFactory: '@App\Model\Product\Availability\AvailabilityDataFactory'

    App\Model\Product\Availability\AvailabilityGridFactory: ~

    Shopsys\FrameworkBundle\Model\Product\Availability\AvailabilityGridFactory: '@App\Model\Product\Availability\AvailabilityGridFactory'

    App\Model\Product\Search\FilterQuery: ~

    Shopsys\FrameworkBundle\Model\Product\Search\FilterQuery: '@App\Model\Product\Search\FilterQuery'

    App\Model\Product\Availability\ProductAvailabilityCalculation: ~

    Shopsys\FrameworkBundle\Model\Product\Availability\ProductAvailabilityCalculation: '@App\Model\Product\Availability\ProductAvailabilityCalculation'

    App\Component\Form\FormBuilderHelper:
        arguments:
            $disableFields: '%disable_form_fields_from_transfer%'

    Shopsys\FrameworkBundle\Model\Pricing\Group\Grid\PricingGroupGridFactory: '@App\Model\Pricing\Group\PricingGroupGridFactory'

    Shopsys\FrameworkBundle\Model\Customer\BillingAddressDataFactoryInterface: '@App\Model\Customer\BillingAddressDataFactory'

    Shopsys\FrameworkBundle\Model\Customer\DeliveryAddressDataFactoryInterface: '@App\Model\Customer\DeliveryAddressDataFactory'

    App\Model\Product\Pricing\ProductPriceCalculationForCustomerUser: ~

    Shopsys\FrameworkBundle\Model\Product\Pricing\ProductPriceCalculationForCustomerUser: '@App\Model\Product\Pricing\ProductPriceCalculationForCustomerUser'

    App\Model\Product\Pricing\QuantifiedProductPriceCalculation: ~

    Shopsys\FrameworkBundle\Model\Product\Pricing\QuantifiedProductPriceCalculation: '@App\Model\Product\Pricing\QuantifiedProductPriceCalculation'

    App\Model\Order\GiftCertificate\Mail\OrderGiftCertificateMail: ~

    Shopsys\FrameworkBundle\Model\Product\Filter\ParameterFilterChoiceRepository: '@App\Model\Product\Filter\ParameterFilterChoiceRepository'

    Shopsys\FrameworkBundle\Model\Product\Filter\PriceRangeRepository: '@App\Model\Product\Filter\PriceRangeRepository'

    Shopsys\FrameworkBundle\Model\Pricing\Vat\VatDataFactoryInterface: '@App\Model\Pricing\Vat\VatDataFactory'

    Shopsys\FrameworkBundle\Model\Pricing\Vat\VatDataFactory: '@App\Model\Pricing\Vat\VatDataFactory'

    Shopsys\FrameworkBundle\Model\Pricing\Vat\VatFacade: '@App\Model\Pricing\Vat\VatFacade'

    Shopsys\FrameworkBundle\Model\Pricing\Vat\VatRepository: '@App\Model\Pricing\Vat\VatRepository'

    App\Component\Domain\DomainDataCreator: ~

    Shopsys\FrameworkBundle\Component\Domain\DomainDataCreator: '@App\Component\Domain\DomainDataCreator'

    Shopsys\FrameworkBundle\Model\Pricing\Vat\VatGridFactory: '@App\Model\Pricing\Vat\VatGridFactory'

    App\Controller\Front\RobotsController:
        arguments:
            $sitemapsUrlPrefix: '%shopsys.sitemaps_url_prefix%'

    App\Component\FlashMessage\ErrorExtractor: ~

    # see https://github.com/shopsys/shopsys/pull/1789
    Shopsys\FrameworkBundle\Model\Security\Authenticator:
        arguments:
            - '@security.token_storage'

    App\Component\FlashMessage\FlashMessageSender: ~

    # in order to avoid the error message 'The service "main_filesystem" has a dependency on a non-existent service "DevOps\KubernetesDeployment\Component\FileSystem\FilesystemFactoryDecorator.inner"',
    # "$inner" argument definition has been removed.
    # see https://gitlab.shopsys.cz/devops/kubernetes-deployment/-/merge_requests/3
    DevOps\KubernetesDeployment\Component\FileSystem\FileSystemFactoryDecorator:
        decorates: Shopsys\FrameworkBundle\Component\Filesystem\MainFilesystemFactory
        arguments:
            $s3ApiHost: '%env(S3_API_HOST)%'
            $s3ApiUsername: '%env(S3_API_USERNAME)%'
            $s3ApiPassword: '%env(S3_API_PASSWORD)%'
            $s3ApiBucketName: '%env(S3_API_BUCKET_NAME)%'

    Shopsys\FrameworkBundle\Model\Product\Flag\FlagDataFactoryInterface: '@App\Model\Product\Flag\FlagDataFactory'

    Shopsys\FrameworkBundle\Model\Product\Filter\ProductFilterConfigFactory: '@App\Model\Product\Filter\ProductFilterConfigFactory'

    Shopsys\FrameworkBundle\Model\Product\ProductSellingDeniedRecalculator: '@App\Model\Product\ProductSellingDeniedRecalculator'

    App\Model\Cart\CartWatcher\CartWatcher: ~

    Shopsys\FrameworkBundle\Model\Cart\Watcher\CartWatcher: '@App\Model\Cart\CartWatcher\CartWatcher'

    Shopsys\FrameworkBundle\Model\Order\Item\OrderProductFacade: '@App\Model\Order\Item\OrderProductFacade'

    App\Model\Cart\CartMigrationFacade:
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }

    Shopsys\FrameworkBundle\Model\Cart\CartMigrationFacade: '@App\Model\Cart\CartMigrationFacade'

    App\Component\Transfer\Pohoda\Xml\PohodaXmlGenerator: ~

    App\Component\Transfer\Pohoda\MServer\MServerClient:
        arguments:
            $pohodaMServerUrl: '%pohoda_mserver_url%'
            $pohodaMServerPort: '%pohoda_mserver_port%'
            $pohodaMServerLogin: '%pohoda_mserver_login%'
            $pohodaMServerPassword: '%pohoda_mserver_password%'
            $pohodaCompanyIco: '%pohoda_company_ico%'

    Shopsys\FrameworkBundle\Model\Product\Unit\UnitDataFactoryInterface: '@App\Model\Product\Unit\UnitDataFactory'

    Shopsys\FrameworkBundle\Model\Product\Unit\UnitRepository: '@App\Model\Product\Unit\UnitRepository'

    Shopsys\FrameworkBundle\Model\Product\Unit\UnitDataFactory: '@App\Model\Product\Unit\UnitDataFactory'

    Shopsys\FrameworkBundle\Model\Product\Unit\UnitGridFactory: '@App\Model\Product\Unit\UnitGridFactory'

    Shopsys\FrameworkBundle\Component\Doctrine\SqlLoggerFacade: '@App\Component\Doctrine\SqlLoggerFacade'

    Shopsys\FrameworkBundle\Model\Product\Filter\FlagFilterChoiceRepository: '@App\Model\Product\Filter\FlagFilterChoiceRepository'

    Google\Cloud\Translate\V2\TranslateClient:
        arguments:
            $config: '%google_translate_config%'

    App\Model\Product\Translation\ProductTranslationFacade:
        arguments:
            $translationEnabled: '%google_translate_enabled%'

    Shopsys\FrameworkBundle\Model\Product\Availability\AvailabilityFacade: '@App\Model\Product\Availability\AvailabilityFacade'

    Shopsys\FrameworkBundle\Model\Product\ProductVisibilityRepository: '@App\Model\Product\ProductVisibilityRepository'

    App\Model\Mail\MailTemplateConfiguration:
        calls:
            -   method: addMailTemplateVariables
                arguments:
                    - !php/const App\Model\Order\GiftCertificate\Mail\OrderGiftCertificateMail::MAIL_TEMPLATE_DEFAULT_NAME
                    - '@=service("App\\Model\\Order\\GiftCertificate\\Mail\\OrderGiftCertificateMailTemplateVariablesProvider").createDefault()'
            -   method: addMailTemplateVariables
                arguments:
                    - !php/const App\Model\Order\GiftCertificate\Mail\OrderGiftCertificateMail::MAIL_TEMPLATE_ACTIVATED_NAME
                    - '@=service("App\\Model\\Order\\GiftCertificate\\Mail\\OrderGiftCertificateMailTemplateVariablesProvider").createActivated()'

    Shopsys\FrameworkBundle\Model\Mail\MailTemplateConfiguration: '@App\Model\Mail\MailTemplateConfiguration'
